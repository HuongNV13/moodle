define("core/togglesensitive",["exports","core/pagehelpers"],(function(_exports,_pagehelpers){Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=void 0;
/**
   * JS module for toggling the sensitive input visibility (e.g. passwords, keys).
   *
   * @module     core/togglesensitive
   * @copyright  2023 David Woloszyn <david.woloszyn@moodle.com>
   * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
   */
const SELECTORS_WRAPPER=".toggle-sensitive-wrapper",SELECTORS_INPUT=".toggle-sensitive-input",SELECTORS_BUTTON=".toggle-sensitive-button",SELECTORS_ICON=".toggle-sensitive-icon";_exports.init=smallscreensonly=>{registerListenerEvents(smallscreensonly)};const registerListenerEvents=smallscreensonly=>{document.addEventListener("click",handleButtonInteraction),document.addEventListener("keydown",handleButtonInteraction),smallscreensonly&&window.addEventListener("resize",(()=>{(0,_pagehelpers.isExtraSmall)()||document.querySelectorAll(SELECTORS_WRAPPER).forEach((element=>{const input=element.querySelector(SELECTORS_INPUT),icon=element.querySelector(SELECTORS_ICON);"text"===input.getAttribute("type")&&toggleSensitiveVisibility(input,icon)}))}))},handleButtonInteraction=event=>{if(event.target.closest(SELECTORS_BUTTON)){const wrapper=event.target.closest(SELECTORS_WRAPPER),input=wrapper.querySelector(SELECTORS_INPUT),icon=wrapper.querySelector(SELECTORS_ICON);toggleSensitiveVisibility(input,icon)}},toggleSensitiveVisibility=(input,icon)=>{const type="password"===input.getAttribute("type")?"text":"password";input.setAttribute("type",type),icon.classList.toggle("fa-eye"),icon.classList.toggle("fa-eye-slash")}}));

//# sourceMappingURL=togglesensitive.min.js.map